#!/usr/bin/env ruby

require 'rubygems'
require 'bbedit_tools'

def result(line, wd)
  items = line.split(":")
  filename = items.shift
  line = items.shift
  message = items.join(":")
  BBEdit::Note.new(wd + "/" + filename, line, message)
end

browser = BBEdit::ResultBrowser.new("BBAck")

wd = Dir.pwd

ARGF.each_line do |ea|
  puts ea
  browser.results << result(ea, wd)
end

browser.show!
